@model WEBVANDAP.Models.AspNetUser

@{
    ViewBag.Title = "Hồ sơ Cá nhân";
    Layout = "~/Views/Shared/_Layout.cshtml"; // 1. Sử dụng Layout chung
}

@section Styles {
    <style>

        .floating-contact {
            display: none; /* Ẩn nút liên hệ nổi trên trang Hồ sơ */
        }
        /* 2. CSS riêng cho trang Hồ sơ */
        /* Ghi đè màu nền body cho riêng trang này để giống thiết kế cũ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8fafc;
        }

        h2 {
            font-weight: 700;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
        }

        .card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border: none; /* Thêm border none để khớp với style gốc nếu layout có border */
        }

        dt {
            font-weight: 600;
            color: #34495e;
        }

        dd {
            color: #2c3e50;
        }

        .btn {
            border-radius: 8px;
            font-weight: 600;
            padding: 10px 18px;
        }

            .btn i {
                margin-right: 6px;
            }

        /* Container riêng của trang này */
        .profile-container {
            max-width: 800px;
            margin-top: 50px;
            margin-bottom: 50px; /* Thêm margin bottom để không sát footer */
        }

        .alert {
            font-weight: 500;
        }
    </style>
}

<div class="container profile-container">
    <h2>Hồ Sơ Của Bạn</h2>
    <hr />

    @* Hiển thị thông báo thành công sau khi sửa *@
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">@TempData["SuccessMessage"]</div>
    }

    <div class="card p-4 shadow-sm">
        @* Hiển thị các thuộc tính của Model AspNetUser *@
        <dl class="row mb-0">
            <dt class="col-sm-3">Tên Đăng Nhập:</dt>
            <dd class="col-sm-9 fw-bold">@Model.UserName</dd>

            <dt class="col-sm-3">Email:</dt>
            <dd class="col-sm-9">@Model.Email</dd>

            <dt class="col-sm-3">Số Điện Thoại:</dt>
            <dd class="col-sm-9">@(string.IsNullOrEmpty(Model.PhoneNumber) ? "Chưa cung cấp" : Model.PhoneNumber)</dd>

            <dt class="col-sm-3">Trạng Thái Email:</dt>
            <dd class="col-sm-9">@(Model.EmailConfirmed ? "Đã xác thực" : "Chưa xác thực")</dd>
        </dl>
    </div>

    @* Các nút điều hướng đến các chức năng quản lý khác *@
    <div class="mt-4 d-flex flex-wrap gap-3 justify-content-center">
        @Html.ActionLink("✏️ Chỉnh sửa Hồ sơ", "Edit", null, new { @class = "btn btn-primary" })

        @* Lưu ý: Action ManageAddress cần tồn tại trong UserController, nếu không hãy đổi thành "Index", "Address" *@
        @Html.ActionLink("📍 Quản lý Địa chỉ", "Index", "Address", null, new { @class = "btn btn-info text-white" })

        @Html.ActionLink("📦 Lịch sử Đơn hàng", "OrderHistory", null, new { @class = "btn btn-success" })
        @Html.ActionLink("🔐 Đổi Mật khẩu", "ChangePassword", null, new { @class = "btn btn-warning" })
        @Html.ActionLink("🏠 Về Trang chủ", "Index", "Home", null, new { @class = "btn btn-outline-secondary" })
    </div>
</div>